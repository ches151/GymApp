(function(){"use strict";function n(n,t,i,r,u,f,e,o,s,h){function l(n){c.workout=n;h.title=c.workout.name}function a(n){return n?c.exercises.filter(v(n)):c.exercises}function v(n){var t=angular.lowercase(n);return function(n){return angular.lowercase(n.name).indexOf(t)!==-1}}function y(n){return angular.isObject(n)?n:{name:n,id:e.guid()}}function p(){w();throw"Not implemented";}function w(){r.go("workout-list")}function b(n){var i,r,o,f;console.log("keydown");switch(n.keyCode){case u.KEY_CODE.ENTER:t.log("Create edit "+c.searchText);i=c.workout;i&&(i.exercises||(i.exercises=[]),r=c.searchText,o=i.exercises.every(function(n){return n.name!==r}),o&&(f={id:e.guid(),name:r},c.exercises.push(f),i.exercises.push(f),t.log(i)),c.searchText="")}}t.log("gym.WorkoutEditCtrl constructor");h.canGoBack=!0;var c=this;c.exercises=[];c.searchText="";c.workoutId=f.workoutId;c.querySearch=a;c.keydown=b;c.transformChip=y;c.saveWorkout=p;c.workout={exercises:[]};o.getExercises().success(function(n){c.exercises=n.value});o.getWorkoutById(c.workoutId).success(function(n){l(n)})}angular.module("gym").controller("WorkoutEditCtrl",n);n.$inject=["$timeout","$log","$window","$scope","$mdConstant","$routeParams","tools","workoutsService","domFactory","header"]})();
//# sourceMappingURL=gym.workout-edit-controller.min.js.map
